## Уровни изодяции и аномалии транзакций

# Аномалии транзакций
1. **Dirty Read**: **T1** изменяет данные, но все еще не зафиксирвоалла их, **T2** читает эти незафиксированные изменения. Если **T1** откатиться то **T2** будет работать с грязными данными.
1. **Non-Repeatable Read**: **T1** читает строку, **T2** меняет эту строку и фиксирует изменения, **T1** повторно читает эту же строку но с новым значением.
1. **Phantom Read**: T1 читает набор строк, **T2** добавляет или удаляет строки их этого набора, при повторном чтении **T1** прочитает другой набор.

{% note warning %}

В **Non-Repeatable** Read при повторном чтении количество строк не меняется, а меняются именно значения в этих строках, в **Phantom Read** наоборот, значения не меняются, н опоявляются новые *фантомные записи* либо *фантомные записи* есть в таром наборе.

{% end note %}

# Уровни изоляции
1. **Read Uncommited:**
    - Самый низкий уровень изоляции, позволяет читать не зафиксированные изменения. 
    - **Предотвращаемые аномалии**: Нет.
    - **Проблемы**: Высокий шанс работы с недействительными данными.
1. **Read commited:**
    - Транзакция видит только зафиксирвоанные данные на момент выполнения каждого запроса в рамках транзакции.
    - **Предотвращаемые аномалии**: Грязное чтение.
    - **Проблемы**: Возможно неповторяемое чтение и фантомное чтение.
1. **Repeatable Read**:
    - Транзакция видит только те данные которые были сделаны на момент ее начала.
    - **Предотвращаемые аномалии**: Грязное чтение, неповторяемое чтение.
    - **Проблемы**: Фантомное чтение.
1. **Serializable**:
    - Самый строгий уровень изоляции, транзакция выполняются так, как если бы они выполнялись параллельно.
    - **Предотвращаемые аномалии**: Грязное чтение, неповторяемое чтение, фантомное чтение.
    - **Проблемы**: Медленно, может привести к конфликтам сереализации.
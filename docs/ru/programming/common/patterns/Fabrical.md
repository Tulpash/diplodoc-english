# Порождающие паттерны

## Singleton
**Идея:** Гарантирует, что у класса есть только один экземпляр, и предоставляет глобальную точку доступа к нему.
**Назначение:** Используется для ресурсов, которые должны быть уникальными (например, логгер, конфигурация, пул соединений).
**Внутри:** Статическое поле хранит единственный экземпляр, доступ к которому контролируется (например, через свойство). В C# часто используют ленивую инициализацию (Lazy<T> или двойную проверку блокировки).
**Когда использовать:** Для логгеров, кэшей, глобальных настроек.
```cs
public class Singleton
{
    private static readonly Lazy<Singleton> instance = new Lazy<Singleton>(() => new Singleton());
    private Singleton() { }
    public static Singleton Instance => instance.Value;
}
```

## Factory Method
**Идея:** Определяет интерфейс для создания объектов, позволяя подклассам решать, какой класс создавать.
**Назначение:** Делегирует создание объектов подклассам, обеспечивая гибкость при добавлении новых типов.
**Внутри:** Абстрактный класс или интерфейс с методом создания, который реализуется в подклассах.
**Когда использовать:** Когда нужно создавать разные реализации интерфейса (например, разные типы документов).
```cs
public abstract class Creator
{
    public abstract IProduct CreateProduct();
}
public class ConcreteCreator : Creator
{
    public override IProduct CreateProduct() => new ConcreteProduct();
}
```

## Abstract Factory
**Идея:** Предоставляет интерфейс для создания семейств связанных объектов без указания их конкретных классов.
**Назначение:** Используется для создания наборов объектов, совместимых друг с другом (например, UI-элементы для разных платформ).
**Внутри:** Абстрактный класс/интерфейс с методами создания объектов семейства, реализуемый конкретными фабриками.
**Когда использовать:** Для кроссплатформенных приложений или систем с семействами объектов.
```cs
public interface IGUIFactory
{
    IButton CreateButton();
    ITextBox CreateTextBox();
}
public class WindowsFactory : IGUIFactory
{
    public IButton CreateButton() => new WindowsButton();
    public ITextBox CreateTextBox() => new WindowsTextBox();
}
```

## Builder
**Идея:** Разделяет процесс создания сложного объекта на шаги, позволяя создавать разные конфигурации объекта.
**Назначение:** Упрощает создание объектов с множеством параметров или сложной логикой сборки.
**Внутри:** Класс Builder с методами для пошаговой настройки, Director управляет процессом.
**Когда использовать:** Для создания объектов с множеством опциональных параметров (например, конфигурация HTTP-запроса).
```cs
public class Builder
{
    private Product product = new Product();
    public Builder SetPartA(string part) { product.PartA = part; return this; }
    public Product Build() => product;
}
```